/*
 * \class cfm_tlm2lt
 * \brief Intel(R) CoFluent(TM) Studio - Intel Corporation
 * \details Simulation model of TLM2LT generated by C++ Generator for SystemC/TLM2
 */
#include "cfm_tlm2lt.h"
using namespace std;
using namespace sc_core;
using namespace cf_dt;
using namespace cf_pk;
using namespace cf_core;



cfm_tlm2lt::cfm_tlm2lt(sc_core::sc_module_name name)
cf_application(name)
, mq_InitiatorReader("InitiatorReader"
)
, mq_InitiatorWriter("InitiatorWriter"
)
, mq_ReaderResponse("ReaderResponse"
)
, mq_ReferenceQueue("ReferenceQueue"
)
, mq_ReferenceQueue2("ReferenceQueue2"
)
, mq_ReferenceQueue3("ReferenceQueue3"
)
, ev_Sync("Sync"
)
, ev_Sync2("Sync2"
)
, ev_Sync3("Sync3"
)
, mq_TargetRequest("TargetRequest"
)
, mq_TargetResponse("TargetResponse"
)
, mq_TargetWrapper("TargetWrapper"
)
, initiatorreader_tlm2_lt_initiator("initiatorreader_tlm2_lt_initiator")
, initiatorwriter_tlm2_lt_initiator("initiatorwriter_tlm2_lt_initiator")
, targetrequest_tlm2_lt_target("targetrequest_tlm2_lt_target")
, targetwrapper_tlm2_lt_target("targetwrapper_tlm2_lt_target")

{
	cf_application::init();
	Reader = new cfm_reader
	("Reader");
	TLM2Platfom = new TLM2Platfom_t
	("TLM2Platfom");
	Target = new cfm_target
	("Target");
	Target_2 = new cfm_target_2
	("Target_2");
	Writer = new cfm_writer
	("Writer");

	Reader->p_mq_ReferenceQueue3
	(mq_ReferenceQueue3
			.p_target_socket
	);
	Reader->p_mq_InitiatorReader
	(mq_InitiatorReader
			.p_target_socket
	);
	Reader->p_mq_ReaderResponse
	(mq_ReaderResponse
			.p_target_socket
	);
	Reader->p_ev_Sync
	(ev_Sync
			.p_target_socket
	);

	initiatorwriter_tlm2_lt_initiator.p_tlm2
	(TLM2Platfom->m_bus.target_socket[2]);
	TLM2Platfom->m_bus.initiator_socket[2]
	(targetwrapper_tlm2_lt_target.p_tlm2
	);
	initiatorreader_tlm2_lt_initiator.p_tlm2
	(TLM2Platfom->m_bus.target_socket[3]);
	TLM2Platfom->m_bus.initiator_socket[3]
	(targetrequest_tlm2_lt_target.p_tlm2
	);

	Target->p_mq_ReferenceQueue2
	(mq_ReferenceQueue2
			.p_target_socket
	);
	Target->p_mq_TargetWrapper
	(mq_TargetWrapper
			.p_target_socket
	);
	Target->p_ev_Sync2
	(ev_Sync2
			.p_target_socket
	);

	Target_2->p_mq_TargetRequest
	(mq_TargetRequest
			.p_target_socket
	);
	Target_2->p_mq_TargetResponse
	(mq_TargetResponse
			.p_target_socket
	);
	Target_2->p_mq_ReferenceQueue
	(mq_ReferenceQueue
			.p_target_socket
	);
	Target_2->p_ev_Sync3
	(ev_Sync3
			.p_target_socket
	);

	Writer->p_mq_InitiatorWriter
	(mq_InitiatorWriter
			.p_target_socket
	);
	Writer->p_mq_ReferenceQueue
	(mq_ReferenceQueue
			.p_target_socket
	);
	Writer->p_mq_ReferenceQueue2
	(mq_ReferenceQueue2
			.p_target_socket
	);
	Writer->p_mq_ReferenceQueue3
	(mq_ReferenceQueue3
			.p_target_socket
	);
	Writer->p_ev_Sync
	(ev_Sync
			.p_target_socket
	);
	Writer->p_ev_Sync2
	(ev_Sync2
			.p_target_socket
	);
	Writer->p_ev_Sync3
	(ev_Sync3
			.p_target_socket
	);

	initiatorreader_tlm2_lt_initiator
	.p_mq_request(mq_InitiatorReader.p_target_socket);
	initiatorreader_tlm2_lt_initiator.p_mq_response(mq_ReaderResponse
			.p_target_socket);
	initiatorwriter_tlm2_lt_initiator
	.p_mq_request(mq_InitiatorWriter.p_target_socket);
	targetrequest_tlm2_lt_target
	.p_mq_request(mq_TargetRequest.p_target_socket);
	targetrequest_tlm2_lt_target.p_mq_response(mq_TargetResponse
			.p_target_socket);
	targetwrapper_tlm2_lt_target
	.p_mq_request(mq_TargetWrapper.p_target_socket);



	cf_application::elab_end();
}

cfm_tlm2lt::~cfm_tlm2lt(void) {

	delete Reader;	///ddd
	delete TLM2Platfom;	///ddd
	delete Target;	///ddd
	delete Target_2;	///ddd
	delete Writer;	///ddd
}

void cfm_tlm2lt::cb_before_elaboration(void) {

}

void cfm_tlm2lt::cb_end_of_elaboration(void) {

}

void cfm_tlm2lt::cb_end_of_simulation(void) {

}

void cfm_tlm2lt::cb_init_attributes() {

	cfa_cycle_period.init(cf_expr_time(10, CF_NS));
	mq_InitiatorReader.cfa_send_time.init(cf_expr_duration(1, CF_NS));
	mq_InitiatorReader.cfa_receive_time.init(cf_expr_duration(0, CF_NS));
	mq_InitiatorReader.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_InitiatorWriter.cfa_send_time.init(cf_expr_duration(0, CF_NS));
	mq_InitiatorWriter.cfa_receive_time.init(cf_expr_duration(0, CF_NS));
	mq_InitiatorWriter.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_ReaderResponse.cfa_send_time.init(cf_expr_duration(0, CF_NS));
	mq_ReaderResponse.cfa_receive_time.init(cf_expr_duration(1, CF_NS));
	mq_ReaderResponse.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_ReferenceQueue.cfa_send_time.init(cf_expr_duration(1, CF_NS));
	mq_ReferenceQueue.cfa_receive_time.init(cf_expr_duration(1, CF_NS));
	mq_ReferenceQueue.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_ReferenceQueue.cfa_queue_capacity.init((cf_nonzero_count) 1);
	mq_ReferenceQueue.cfa_concurrency.init((cf_nonzero_count) 1);
	mq_ReferenceQueue2.cfa_send_time.init(cf_expr_duration(1, CF_NS));
	mq_ReferenceQueue2.cfa_receive_time.init(cf_expr_duration(1, CF_NS));
	mq_ReferenceQueue2.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_ReferenceQueue2.cfa_queue_capacity.init((cf_nonzero_count) 1);
	mq_ReferenceQueue2.cfa_concurrency.init((cf_nonzero_count) 1);
	mq_ReferenceQueue3.cfa_send_time.init(cf_expr_duration(1, CF_NS));
	mq_ReferenceQueue3.cfa_receive_time.init(cf_expr_duration(1, CF_NS));
	mq_ReferenceQueue3.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_ReferenceQueue3.cfa_queue_capacity.init((cf_nonzero_count) 1);
	mq_ReferenceQueue3.cfa_concurrency.init((cf_nonzero_count) 1);
	ev_Sync.cfa_set_time.init(cf_expr_duration(1, CF_NS));
	ev_Sync.cfa_get_time.init(cf_expr_duration(1, CF_NS));
	ev_Sync.cfa_event_policy.init(CF_EV_POLICY_BOOLEAN);
	ev_Sync2.cfa_set_time.init(cf_expr_duration(1, CF_NS));
	ev_Sync2.cfa_get_time.init(cf_expr_duration(1, CF_NS));
	ev_Sync2.cfa_event_policy.init(CF_EV_POLICY_BOOLEAN);
	ev_Sync3.cfa_set_time.init(cf_expr_duration(1, CF_NS));
	ev_Sync3.cfa_get_time.init(cf_expr_duration(1, CF_NS));
	ev_Sync3.cfa_event_policy.init(CF_EV_POLICY_BOOLEAN);
	mq_TargetRequest.cfa_send_time.init(cf_expr_duration(0, CF_NS));
	mq_TargetRequest.cfa_receive_time.init(cf_expr_duration(0, CF_NS));
	mq_TargetRequest.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_TargetResponse.cfa_send_time.init(cf_expr_duration(0, CF_NS));
	mq_TargetResponse.cfa_receive_time.init(cf_expr_duration(1, CF_NS));
	mq_TargetResponse.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);
	mq_TargetWrapper.cfa_send_time.init(cf_expr_duration(0, CF_NS));
	mq_TargetWrapper.cfa_receive_time.init(cf_expr_duration(0, CF_NS));
	mq_TargetWrapper.cfa_queue_policy.init(CF_MQ_POLICY_FIFO_FINITE);

	return;
}

void cfm_tlm2lt::cb_init_local_vars(void) {


}


